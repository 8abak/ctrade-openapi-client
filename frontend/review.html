<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>ML Review â€” Kalman Layers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    html, body { height:100%; margin:0; background:#0b0f1a; color:#e6edf3; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    #controls { display:flex; gap:.5rem; align-items:center; padding:.75rem 1rem; border-bottom:1px solid #1e2638; position:sticky; top:0; background:#0b0f1a; z-index:5; }
    #chart { width: 100%; height: calc(100% - 60px); }
    input, button { background:#131a2a; color:#e6edf3; border:1px solid #26314a; border-radius:8px; padding:.45rem .6rem; }
    button { cursor:pointer; }
    button:hover { background:#172134; }
    .spacer { flex:1; }
  </style>
</head>
<body>
  <div id="controls">
    <label>Start tick</label><input id="startTick" type="number" value="1" min="1"/>
    <label>End tick</label><input id="endTick" type="number" value="100000" min="1"/>
    <button id="loadBtn">Load</button>
    
    <!-- Walk-forward controls (minimal, no layout shift) -->
    <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:.4rem 0;">
      <button id="wf-run" title="Advance one macro leg">Run</button>
      <label><input type="checkbox" id="wf-macro" checked> Macro</label>
      <label><input type="checkbox" id="wf-events" checked> Events</label>
      <label><input type="checkbox" id="wf-preds" checked> Predictions</label>
      <label><input type="checkbox" id="wf-out" checked> Outcomes</label>
    </div>


    <div class="spacer"></div>

    <label><input type="checkbox" id="chkMid" checked> Mid</label>
    <label><input type="checkbox" id="chkBid" checked> Bid</label>
    <label><input type="checkbox" id="chkAsk" checked> Ask</label>
    <label><input type="checkbox" id="chkK1"  checked> k1</label>
    <label><input type="checkbox" id="chkRTS" checked> k1_rts</label>
    <label><input type="checkbox" id="chkBM"  checked> Big-Move</label>

    <div class="spacer"></div>

    <label>Jump to tick</label><input id="jumpTick" type="number" min="1"/>
    <button id="jumpBtn">Jump</button>
  </div>

  <div id="chart"></div>

  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <script src="./review-core.js"></script>
</body>
</html>
