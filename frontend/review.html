<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ML Review — Price-Action Segments</title>
  <style>
    :root { color-scheme: dark; }
    body { margin:0; background:#0d1117; color:#c9d1d9; font:14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; }
    header { display:flex; align-items:center; gap:.75rem; padding:.5rem .75rem; border-bottom:1px solid #30363d; }
    header .spacer { flex:1; }
    #run { appearance:none; background:#1f6feb; color:#fff; border:0; border-radius:10px; padding:.4rem .7rem; font-weight:600; cursor:pointer; }
    #run:disabled { opacity:.6; cursor:not-allowed; }
    #runStat { color:#8b949e; font-size:12px; }
    main { display:grid; grid-template-columns: 380px 1fr; gap:0; height: calc(100vh - 50px); }
    #left { border-right:1px solid #30363d; overflow:auto; }
    #chart { height:100%; }
    table { width:100%; border-collapse:collapse; }
    thead th { position:sticky; top:0; background:#0d1117; border-bottom:1px solid #30363d; padding:.4rem .5rem; font-weight:600; text-align:left; }
    tbody td { border-bottom:1px solid #161b22; padding:.35rem .5rem; }
    tbody tr { cursor:pointer; }
    tbody tr:hover { background:#161b22; }
    .controls { position:absolute; left:400px; bottom:10px; display:flex; gap:16px; }
    .controls label { user-select:none; }
    #seginfo { padding:.35rem .75rem; border-top:1px solid #30363d; font-size:13px; color:#8b949e; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
</head>
<body>
  <header>
    <button id="run">▶ Clean</button>
    <span id="runStat">idle</span>
    <span class="spacer"></span>
    <div style="display:flex; gap:16px; align-items:center; margin-right:.5rem;">
      <span style="display:inline-flex; align-items:center; gap:6px;"><span style="width:10px;height:10px;background:#3b82f6;display:inline-block"></span> mid</span>
      <span style="display:inline-flex; align-items:center; gap:6px;"><span style="width:10px;height:10px;background:#10b981;display:inline-block"></span> smooth</span>
      <span style="display:inline-flex; align-items:center; gap:6px;"><span style="width:10px;height:10px;background:#eab308;display:inline-block"></span> bigm</span>
      <span style="display:inline-flex; align-items:center; gap:6px;"><span style="width:10px;height:10px;background:#ef4444;display:inline-block"></span> smal</span>
      <span style="display:inline-flex; align-items:center; gap:6px;"><span style="width:10px;height:10px;background:#94a3b8;display:inline-block"></span> pred</span>
    </div>
  </header>

  <main>
    <section id="left">
      <table id="journal">
        <thead>
          <tr>
            <th style="width:70px;">ID</th>
            <th style="width:152px;">Time</th>
            <th style="width:70px;">Dur(s)</th>
            <th style="width:60px;">Preds</th>
            <th style="width:60px;">Ratio</th>
            <th style="width:50px;">Dir</th>
            <th style="width:70px;">Ticks</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div id="seginfo">Segment: —</div>
    </section>

    <section id="chart"></section>
  </main>

  <div class="controls">
    <label><input id="ckBigs" type="checkbox" checked> Big moves</label>
    <label><input id="ckSmals" type="checkbox" checked> Small moves</label>
  </div>

  <script src="./review-core.js"></script>
</body>
</html>
