<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ZTick Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="container">
  <div id="sidebar">
    <div>
      <h3>ZTick View</h3>

      <div class="section">
        <label>ST:</label>
        <div style="display: flex; gap: 6px;">
          <input type="text" id="startTime" placeholder="YYYY-MM-DDTHH:mm" style="flex: 2;">
          <input type="text" id="startId" placeholder="ID" style="flex: 1;">
        </div>
      </div>

      <div class="section">
        <label>ET:</label>
        <div style="display: flex; gap: 6px;">
          <input type="text" id="endTime" placeholder="YYYY-MM-DDTHH:mm" style="flex: 2;">
          <input type="text" id="endId" placeholder="ID" style="flex: 1;">
        </div>
      </div>

      <button onclick="loadZTickChart()">Load Chart</button>

      <div class="section">
        <strong>Series</strong><br>
        <div class="checkbox-row">
          <label><input type="checkbox" id="askCheckbox"> Ask</label>
          <label><input type="checkbox" id="midCheckbox" checked> Mid</label>
          <label><input type="checkbox" id="bidCheckbox"> Bid</label>
        </div>
      </div>

      <div class="section">
        <details open>
          <summary>Zigzag Settings</summary>
          <div id="zigzagSettingsContainer"></div>
        </details>
      </div>

      <div id="labelCheckboxes" class="section checkbox-row"></div>

      <!-- âœ… This was missing -->
      <div class="section" id="labelControls">
        <strong>Selected Tick:</strong> <span id="selectedIdsText">None</span>
        <select id="labelTableSelect"></select>
        <input type="text" id="customTickIds" placeholder="Extra Tick IDs (e.g., 53212,53214-53220)">
        <textarea id="labelNote" rows="2" placeholder="Optional label note..."></textarea>
        <button onclick="submitLabel()">Submit Labels</button>
        <button onclick="exportSelectedTicks()">Export CSV</button>
      </div>
    </div>

    <div id="version" style="font-size: 11px; color: #777; text-align: left;"></div>
  </div>
  <div id="main"></div>
</div>

<script>
  const AVAILABLE_LABELS_ENDPOINT = "/available";
</script>
<script src="ztick-core.js"></script>
</body>
</html>
